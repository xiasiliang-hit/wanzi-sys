
@import helper._
@(alert : String)
@headerfooter{
    @if(!alert.equals("")){
        <script>
            $(function () {
                alert('@Html(alert)');
            })
        </script>
    }
    <div class="contianer">
        <div class="content">


		        <!-- 主题 -->
		<style>
button.rester-btn,.forget-password button.rester-btn,.telphoto-modal button.rester-btn{
	color: #fff;
	width: 100%;
	font-size: 16px;
	margin-bottom: 13px;
}
label input,label input:focus{
	height: auto;
	margin: 0 2px 0;
	display: inline-block;
	vertical-align: middle;
	-webkit-appearance: normal;
}
</style>
<div class="container">
    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8" style="background:#fff; margin:20px 0 20px;">
<!--            <form style="margin:20px;">-->
@form(action=routes.RegisterController.onLogin(), '_style->"margin:20px;"){
<legend>用户登录</legend>
                <div class="row">
                    <div class="col-md-2"></div>
                    <div class="col-md-3">
                        <p>
                            <select class="form-control" id="phone_prefix">
                                <option value="376">安道尔共和国</option>
                                <option value="43">奥地利</option>
                                <option value="61">澳大利亚</option>
                                <option value="355">阿尔巴尼亚</option>
                                <option value="213">阿尔及利亚</option>
                                <option value="353">爱尔兰</option>
                                <option value="93">阿富汗</option>
                                <option value="244">安哥拉</option>
                                <option value="1264">安圭拉岛</option>
                                <option value="54">阿根廷</option>
                                <option value="20">埃及</option>
                                <option value="971">阿拉伯联合酋长国</option>
                                <option value="853">澳门</option>
                                <option value="968">阿曼</option>
                                <option value="994">阿塞拜疆</option>
                                <option value="251">埃塞俄比亚</option>
                                <option value="372">爱沙尼亚</option>
                                <option value="247">阿森松</option>
                                <option value="1268">安提瓜和巴布达</option>
                                <option value="1246">巴巴多斯</option>
                                <option value="675">巴布亚新几内亚</option>
                                <option value="267">博茨瓦纳</option>
                                <option value="354">冰岛</option>
                                <option value="1787">波多黎各</option>
                                <option value="375">白俄罗斯</option>
                                <option value="1242">巴哈马</option>
                                <option value="359">保加利亚</option>
                                <option value="226">布基纳法索</option>
                                <option value="92">巴基斯坦</option>
                                <option value="973">巴林</option>
                                <option value="48">波兰</option>
                                <option value="257">布隆迪</option>
                                <option value="595">巴拉圭</option>
                                <option value="32">比利时</option>
                                <option value="591">玻利维亚</option>
                                <option value="501">伯利兹</option>
                                <option value="1441">百慕大群岛</option>
                                <option value="229">贝宁</option>
                                <option value="507">巴拿马</option>
                                <option value="55">巴西</option>
                                <option value="850">朝鲜</option>
                                <option value="49">德国</option>
                                <option value="228">多哥</option>
                                <option value="45">丹麦</option>
                                <option value="1890">多米尼加共和国</option>
                                <option value="684">东萨摩亚(美)</option>
                                <option value="593">厄瓜多尔</option>
                                <option value="7">俄罗斯</option>
                                <option value="33">法国</option>
                                <option value="679">斐济</option>
                                <option value="358">芬兰</option>
                                <option value="63">菲律宾</option>
                                <option value="689">法属玻利尼西亚</option>
                                <option value="594">法属圭亚那</option>
                                <option value="53">古巴</option>
                                <option value="220">冈比亚</option>
                                <option value="1671">关岛</option>
                                <option value="242">刚果</option>
                                <option value="57">哥伦比亚</option>
                                <option value="995">格鲁吉亚</option>
                                <option value="1809">格林纳达</option>
                                <option value="506">哥斯达黎加</option>
                                <option value="592">圭亚那</option>
                                <option value="509">海地</option>
                                <option value="504">洪都拉斯</option>
                                <option value="82">韩国</option>
                                <option value="31">荷兰</option>
                                <option value="599">荷属安的列斯</option>
                                <option value="327">哈萨克斯坦</option>
                                <option value="263">津巴布韦</option>
                                <option value="253">吉布提</option>
                                <option value="331">吉尔吉斯坦</option>
                                <option value="420">捷克</option>
                                <option value="233">加纳</option>
                                <option value="1">加拿大</option>
                                <option value="224">几内亚</option>
                                <option value="241">加蓬</option>
                                <option value="855">柬埔寨</option>
                                <option value="682">库克群岛</option>
                                <option value="237">喀麦隆</option>
                                <option value="1345">开曼群岛</option>
                                <option value="254">肯尼亚</option>
                                <option value="225">科特迪瓦</option>
                                <option value="974">卡塔尔</option>
                                <option value="965">科威特</option>
                                <option value="231">利比里亚</option>
                                <option value="961">黎巴嫩</option>
                                <option value="218">利比亚</option>
                                <option value="40">罗马尼亚</option>
                                <option value="262">留尼旺</option>
                                <option value="352">卢森堡</option>
                                <option value="266">莱索托</option>
                                <option value="370">立陶宛</option>
                                <option value="371">拉脱维亚</option>
                                <option value="856">老挝</option>
                                <option value="423">列支敦士登</option>
                                <option value="95">缅甸</option>
                                <option value="261">马达加斯加</option>
                                <option value="960">马尔代夫</option>
                                <option value="373">摩尔多瓦</option>
                                <option value="356">马耳他</option>
                                <option value="976">蒙古</option>
                                <option value="1">美国</option>
                                <option value="880">孟加拉国</option>
                                <option value="223">马里</option>
                                <option value="51">秘鲁</option>
                                <option value="212">摩洛哥</option>
                                <option value="230">毛里求斯</option>
                                <option value="265">马拉维</option>
                                <option value="60">马来西亚</option>
                                <option value="1670">马里亚那群岛</option>
                                <option value="377">摩纳哥</option>
                                <option value="258">莫桑比克</option>
                                <option value="596">马提尼克</option>
                                <option value="1664">蒙特塞拉特岛</option>
                                <option value="52">墨西哥</option>
                                <option value="977">尼泊尔</option>
                                <option value="27">南非</option>
                                <option value="505">尼加拉瓜</option>
                                <option value="674">瑙鲁</option>
                                <option value="264">纳米比亚</option>
                                <option value="227">尼日尔</option>
                                <option value="234">尼日利亚</option>
                                <option value="381">南斯拉夫</option>
                                <option value="47">挪威</option>
                                <option value="351">葡萄牙</option>
                                <option value="81">日本</option>
                                <option value="46">瑞典</option>
                                <option value="41">瑞士</option>
                                <option value="249">苏丹</option>
                                <option value="239">圣多美和普林西比</option>
                                <option value="503">萨尔瓦多</option>
                                <option value="421">斯洛伐克</option>
                                <option value="232">塞拉利昂</option>
                                <option value="94">斯里兰卡</option>
                                <option value="677">所罗门群岛</option>
                                <option value="597">苏里南</option>
                                <option value="386">斯洛文尼亚</option>
                                <option value="1758">圣卢西亚</option>
                                <option value="252">索马里</option>
                                <option value="378">圣马力诺</option>
                                <option value="221">塞内加尔</option>
                                <option value="357">塞浦路斯</option>
                                <option value="248">塞舌尔</option>
                                <option value="966">沙特阿拉伯</option>
                                <option value="268">斯威士兰</option>
                                <option value="1784">圣文森特</option>
                                <option value="1784">圣文森特岛</option>
                                <option value="90">土耳其</option>
                                <option value="66">泰国</option>
                                <option value="676">汤加</option>
                                <option value="992">塔吉克斯坦</option>
                                <option value="993">土库曼斯坦</option>
                                <option value="1809">特立尼达和多巴哥</option>
                                <option value="216">突尼斯</option>
                                <option value="255">坦桑尼亚</option>
                                <option value="886">台湾省</option>
                                <option value="502">危地马拉</option>
                                <option value="256">乌干达</option>
                                <option value="380">乌克兰</option>
                                <option value="673">文莱</option>
                                <option value="598">乌拉圭</option>
                                <option value="58">委内瑞拉</option>
                                <option value="233">乌兹别克斯坦</option>
                                <option value="34">西班牙</option>
                                <option value="852">香港</option>
                                <option value="65">新加坡</option>
                                <option value="30">希腊</option>
                                <option value="963">叙利亚</option>
                                <option value="685">西萨摩亚</option>
                                <option value="64">新西兰</option>
                                <option value="36">匈牙利</option>
                                <option value="91">印度</option>
                                <option value="962">约旦</option>
                                <option value="39">意大利</option>
                                <option value="62">印度尼西亚</option>
                                <option value="44">英国</option>
                                <option value="98">伊朗</option>
                                <option value="964">伊拉克</option>
                                <option value="967">也门</option>
                                <option value="1876">牙买加</option>
                                <option value="374">亚美尼亚</option>
                                <option value="84">越南</option>
                                <option value="972">以色列</option>
                                <option value="350">直布罗陀</option>
                                <option value="260">赞比亚</option>
                                <option value="235">乍得</option>
                                <option value="236">中非共和国</option>
                                <option value="86" selected="selected">中国</option>
                                <option value="56">智利</option>
                                <option value="243">扎伊尔</option>
                            </select>
                        </p>
                    </div>
                    <div class="col-md-5">
                        <p><input type="text" class="form-control" placeholder="邮箱" name="email"></p>
                    </div>

                <div class="col-md-2"></div>
                </div>
                <div class="row">
                    <div class="col-md-2"></div>
                    <div class="col-md-8">
                        <p>
                            <input type="password" class="form-control" placeholder="密码" name="password">
                        </p>
                        <div style="text-align:right;padding:10px 0 10px;"><a href="3.html">忘记密码</a></div>
                        <p>
                            <button type="submit" class="btn btn-info btn-lg btn-block" id="user_login">登录</button>
                        </p>
                    </div>
                    <div class="col-md-2"></div>
                    <input type="hidden" value="1d30055000ae975a08cb080e6b1070bd" name="csrf_token" />                </div>
				}
				<!--            </form>-->
        </div>
        <div class="col-md-2"></div>


    </div>
</div>

<script>
$(document).ready(function(){
/*    $('#user_login').on('click', function(){
        var user_phone = $('#user_phone').val();
        if (!/^\d+$/.test(user_phone)) {
            alert('请填写正确的手机号码');
            $('#user_phone').focus();
            return;
}
*/
        var user_password = $('#user_password').val();
        if (user_password == '') {
            alert('请填写密码');
            $('#user_password').focus();
            return;
        }
        $.post(
            '/user/login',
            {
                prefix: $('#phone_prefix').val(),
                phone: user_phone,
                password: user_password,
                remember: 1,
                csrf_token: $('input[name="csrf_token"]').val()
            },
            function(data){
                if (data.code == 1000) {
                    history.back();
                } else {
                    alert(data.error);
                    location.reload();
                }
            },
            'json'
        );
    })
})
</script>
        </div>
    </div>
}